"use strict";(self.webpackChunkstock_flow_web=self.webpackChunkstock_flow_web||[]).push([[186],{3040:(g,d,n)=>{n.d(d,{N4:()=>r,op:()=>i});var t=n(4341);function r(e){Object.values(e.controls).forEach(a=>{a.invalid&&(a.markAsDirty(),a.updateValueAndValidity({onlySelf:!0})),a instanceof t.gE&&Object.values(a.controls).forEach(l=>{l.invalid&&(l.markAsDirty(),l.updateValueAndValidity({onlySelf:!0}))}),a instanceof t.Yp&&Object.values(a.controls).forEach(l=>{l instanceof t.gE&&Object.values(l.controls).forEach(_=>{_.invalid&&(_.markAsDirty(),_.updateValueAndValidity({onlySelf:!0}))})})})}function i(e){if(e.validator){const a=e.validator({});return a&&a.required}return!1}},3186:(g,d,n)=>{n.d(d,{O:()=>R});var t=n(7705),r=n(177),i=n(4341),o=n(3040),h=n(4177),m=n(2119),e=n(9475),a=n(5286),l=n(9079),_=n(4774),s=n(980),c=n(6475),y=n(5816),v=n(7529),D=n(8927),b=n(1011),M=n(1997);function O(E,P){if(1&E&&(t.qex(0),t.nrm(1,"nz-option",21),t.bVm()),2&E){const u=P.$implicit;t.R7$(1),t.Y8G("nzLabel",u.label)("nzValue",u.value)}}let R=(()=>{class E{constructor(u,f,p,C){this._fb=u,this._modal=f,this._httpService=p,this._destroyRef=C,this.actionEmitter=new t.bkB,this.loading=!1,this.categoryList=[]}ngOnInit(){this.form=this.createForm(),this.loadCategoryList(),this.formData&&this.form.patchValue(this.formData)}createForm(){return this._fb.group({oid:[null],category_oid:[null,[i.k0.required]],name:[null,[i.k0.required]],description:[null],category_code:[null,[i.k0.required]],status:["Active",[i.k0.required]]})}handleConfirm(){let u="Do you want to create a sub category?";this.formData&&(u="Do you want to update this sub category?"),this._modal.create({nzContent:h.M,nzData:{message:u},nzFooter:null,nzClosable:!1,nzOnOk:()=>this.actionEmitter.emit({action:"submit",value:this.form.value})})}handleForm(){this.form.valid?this.handleConfirm():(0,o.N4)(this.form)}goBack(){this.actionEmitter.emit({action:"back",value:this.form.value})}hasRequiredValidator(u){const f=this.form.get(u);return!!f&&(0,o.op)(f)}loadCategoryList(){this._httpService.get(_.A.GET_CATEGORY_LIST_FOR_DROPDOWN).pipe((0,l.pQ)(this._destroyRef),(0,s.j)(()=>this.loading=!1)).subscribe({next:u=>{200===u.status&&(this.categoryList=[],this.categoryList=u.body?.data?.length?u.body.data:[])},error:u=>{console.log(u)}})}static{this.\u0275fac=function(f){return new(f||E)(t.rXU(i.ok),t.rXU(c.N_),t.rXU(y.k),t.rXU(t.abz))}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["app-sub-category-form"]],inputs:{formData:"formData",loading:"loading"},outputs:{actionEmitter:"actionEmitter"},standalone:!0,features:[t.aNF],decls:35,vars:12,consts:[[1,"rounded-md","bg-white"],["nz-form","",3,"formGroup","nzLayout","ngSubmit"],[1,"grid","grid-cols-1","md:gap-x-6","md:grid-cols-2","lg:grid-cols-3","border-[0.5px]","p-4","rounded-md"],[3,"nzRequired"],["nzErrorTip","Category is required."],["formControlName","category_oid","nz-input","","nzAllowClear","","nzPlaceHolder","Select Category",1,"w-full"],[4,"ngFor","ngForOf"],["nzErrorTip","Sub Category Name is Required."],["formControlName","name","nz-input","","placeholder","Enter Sub Category Name"],["nzErrorTip","Sub Category Code is Required."],["formControlName","category_code","nz-input","","placeholder","Enter Sub Category Code"],["nzErrorTip","Description is Required."],["formControlName","description","nz-input","","placeholder","Enter Description","nzAutosize",""],["nzErrorTip","Status is required."],["formControlName","status","nz-input","","nzAllowClear","","nzPlaceHolder","Select Status",1,"w-full"],["nzLabel","Active","nzValue","Active"],["nzLabel","Inactive","nzValue","Inactive"],[1,"flex","justify-end","mt-4"],[1,"flex","items-center","gap-4"],[3,"label","click"],[3,"label","loading","type"],[3,"nzLabel","nzValue"]],template:function(f,p){1&f&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return p.handleForm()}),t.j41(2,"div",2)(3,"nz-form-item")(4,"nz-form-label",3),t.EFF(5,"Parent Category"),t.k0s(),t.j41(6,"nz-form-control",4)(7,"nz-select",5),t.DNE(8,O,2,2,"ng-container",6),t.k0s()()(),t.j41(9,"nz-form-item")(10,"nz-form-label",3),t.EFF(11,"Sub Category Name"),t.k0s(),t.j41(12,"nz-form-control",7),t.nrm(13,"input",8),t.k0s()(),t.j41(14,"nz-form-item")(15,"nz-form-label",3),t.EFF(16,"Sub Category Code"),t.k0s(),t.j41(17,"nz-form-control",9),t.nrm(18,"input",10),t.k0s()(),t.j41(19,"nz-form-item")(20,"nz-form-label",3),t.EFF(21,"Description"),t.k0s(),t.j41(22,"nz-form-control",11),t.nrm(23,"textarea",12),t.k0s()(),t.j41(24,"nz-form-item")(25,"nz-form-label",3),t.EFF(26,"Status"),t.k0s(),t.j41(27,"nz-form-control",13)(28,"nz-select",14),t.nrm(29,"nz-option",15)(30,"nz-option",16),t.k0s()()()(),t.j41(31,"div",17)(32,"div",18)(33,"secondary-button",19),t.bIt("click",function(){return p.goBack()}),t.k0s(),t.nrm(34,"primary-button",20),t.k0s()()()()),2&f&&(t.R7$(1),t.Y8G("formGroup",p.form)("nzLayout","vertical"),t.R7$(3),t.Y8G("nzRequired",p.hasRequiredValidator("category_oid")),t.R7$(4),t.Y8G("ngForOf",p.categoryList),t.R7$(2),t.Y8G("nzRequired",p.hasRequiredValidator("name")),t.R7$(5),t.Y8G("nzRequired",p.hasRequiredValidator("category_code")),t.R7$(5),t.Y8G("nzRequired",p.hasRequiredValidator("description")),t.R7$(5),t.Y8G("nzRequired",p.hasRequiredValidator("status")),t.R7$(8),t.Y8G("label","Cancel"),t.R7$(1),t.Y8G("label","Submit")("loading",p.loading)("type","submit"))},dependencies:[r.MD,r.Sq,a.Z,v.Uq,v.e,D.CA,D.Ls,D.Mo,D.zS,b.Sy,b.c9,M.ld,M.WI,i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,m.j,e.t]})}}return E})()},2119:(g,d,n)=>{n.d(d,{j:()=>e});var t=n(177),r=n(1517),i=n(7002),o=n(7705);function h(a,l){1&a&&(o.j41(0,"span"),o.nrm(1,"app-spinner"),o.k0s())}function m(a,l){if(1&a&&(o.j41(0,"span",4),o.EFF(1),o.k0s()),2&a){const _=o.XpG();o.R7$(1),o.SpI(" ",_.label," ")}}let e=(()=>{class a{constructor(){this.type="button",this.loading=!1}static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275cmp=o.VBU({type:a,selectors:[["primary-button"]],inputs:{label:"label",type:"type",loading:"loading"},standalone:!0,features:[o.aNF],decls:4,vars:5,consts:[["disableForGuest","",1,"min-w-min","group","relative","flex","items-center","gap-4","overflow-hidden","rounded-sm","bg-white","px-6","py-2","shadow","font-medium","disabled:cursor-not-allowed",3,"disabled","type"],[1,"absolute","inset-0","w-2","bg-primary","transition-all","duration-300","ease-in-out","group-hover:w-full",3,"ngClass"],[4,"ngIf"],["class","relative z-10 whitespace-nowrap text-black transition-all duration-300 group-hover:text-white",4,"ngIf"],[1,"relative","z-10","whitespace-nowrap","text-black","transition-all","duration-300","group-hover:text-white"]],template:function(s,c){1&s&&(o.j41(0,"button",0),o.nrm(1,"div",1),o.DNE(2,h,2,0,"span",2),o.DNE(3,m,2,1,"span",3),o.k0s()),2&s&&(o.Y8G("disabled",c.loading)("type",c.type),o.R7$(1),o.Y8G("ngClass",c.loading?"w-full":""),o.R7$(1),o.Y8G("ngIf",c.loading),o.R7$(1),o.Y8G("ngIf",!c.loading))},dependencies:[t.MD,t.YU,t.bT,r.t,i.x]})}}return a})()},9475:(g,d,n)=>{n.d(d,{t:()=>i});var t=n(177),r=n(7705);let i=(()=>{class o{constructor(){this.type="button"}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=r.VBU({type:o,selectors:[["secondary-button"]],inputs:{label:"label",type:"type"},standalone:!0,features:[r.aNF],decls:4,vars:1,consts:[["type","button",1,"min-w-min","group","relative","flex","items-center","gap-4","overflow-hidden","rounded-sm","bg-white","px-6","py-2","shadow","font-medium","disabled:cursor-wait"],[1,"absolute","inset-0","w-2","bg-[#8D99AE]","transition-all","duration-300","ease-in-out","group-hover:w-full"],[1,"relative","z-10","whitespace-nowrap","text-black","transition-all","duration-300","group-hover:text-white"]],template:function(e,a){1&e&&(r.j41(0,"button",0),r.nrm(1,"div",1),r.j41(2,"span",2),r.EFF(3),r.k0s()()),2&e&&(r.R7$(3),r.SpI(" ",a.label," "))},dependencies:[t.MD]})}}return o})()},4177:(g,d,n)=>{n.d(d,{M:()=>a});var t=n(177),r=n(5286),i=n(5088),o=n(6475),h=n(2119),m=n(9475),e=n(7705);let a=(()=>{class l{constructor(s,c){this.modalData=s,this._modalRef=c}handleConfirm(){this._modalRef.triggerOk()}closeModal(){this._modalRef.triggerCancel()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(o.or),e.rXU(o.J9))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-confirmation-modal"]],standalone:!0,features:[e.aNF],decls:7,vars:5,consts:[[1,"w-full","flex","flex-col","items-center","p-5"],["src","/assets/icons/undraw_confirmation.svg","alt","",1,"w-2/3","mx-auto"],[1,"text-black","mt-6","mb-9","font-semibold","text-lg"],[1,"flex","items-center","gap-8"],[3,"label","type","click"]],template:function(c,y){1&c&&(e.j41(0,"div",0),e.nrm(1,"img",1),e.j41(2,"p",2),e.EFF(3),e.k0s(),e.j41(4,"div",3)(5,"secondary-button",4),e.bIt("click",function(){return y.closeModal()}),e.k0s(),e.j41(6,"primary-button",4),e.bIt("click",function(){return y.handleConfirm()}),e.k0s()()()),2&c&&(e.R7$(3),e.JRh(y.modalData.message),e.R7$(2),e.Y8G("label","Cancel")("type","button"),e.R7$(1),e.Y8G("label","Confirm")("type","button"))},dependencies:[t.MD,r.Z,i.iu,h.j,m.t]})}}return l})()},1517:(g,d,n)=>{n.d(d,{t:()=>i});var t=n(177),r=n(7705);let i=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=r.VBU({type:o,selectors:[["app-spinner"]],standalone:!0,features:[r.aNF],decls:3,vars:0,consts:[["fill","none","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"-ml-1","mr-3","h-5","w-5","animate-spin","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z","fill","currentColor",1,"opacity-75"]],template:function(e,a){1&e&&(r.qSk(),r.j41(0,"svg",0),r.nrm(1,"circle",1)(2,"path",2),r.k0s())},dependencies:[t.MD]})}}return o})()},7002:(g,d,n)=>{n.d(d,{x:()=>i});var t=n(7705),r=n(3769);let i=(()=>{class o{constructor(m,e,a){this.el=m,this.renderer=e,this.authService=a}ngOnInit(){this.authService.getGuestUserStatus()&&this.renderer.setAttribute(this.el.nativeElement,"disabled","true")}static{this.\u0275fac=function(e){return new(e||o)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(r.u))}}static{this.\u0275dir=t.FsC({type:o,selectors:[["","disableForGuest",""]],standalone:!0})}}return o})()}}]);